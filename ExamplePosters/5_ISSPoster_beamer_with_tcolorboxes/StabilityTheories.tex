\begin{tikzpicture}
  [ 
    %mindmap,
    every node/.style={fill=white,execute at begin node=\hskip0pt,font=\tiny},
    level 1/.append style={level distance=\ldone,sibling distance=\lsdone},
    level 2/.append style={sibling distance=\lsdtwo},
    level 3/.append style={sibling distance=\lsdthree},
    level 4/.append style={sibling distance=\lsdfour},align=center
  ]
  \node[cst](cst) {root}
  %\pgfpathcircle{\pgfpointanchor{x}{north}}{2pt}
    child{
      node[test](TNIoft) {\pgfkeys{/TNIoft}} 
      %child[concept color=red]{
      %    node[proc] {BiBo, CiCo or ISS } 
          child{
            node[test](CLorNL){\pgfkeys{/fofC}}
            edge from parent[parent anchor=west,child anchor=north, edge from parent path={\mypath}]
                child{
                  node[test](NLTIorNLTV){\pgfkeys{/foft}}
                  child{
                    node[test]{tv ISS proof}
                    child{
                      node[ce](mark){}
                      edge from parent[parent anchor=west,child anchor=north, edge from parent path={\mypath}]
	    	    } 
		    child[missing]{}
                    edge from parent[parent anchor=west,child anchor=north, edge from parent path={\mypath}]
	    	  } 
                  child{
                    node[test]{ISS proof}
                    child{
                      node[ce] {}
                      edge from parent[parent anchor=west,child anchor=north, edge from parent path={\mypath}]
	    	    } 
		    child[missing]{}
                    edge from parent[parent anchor=east,child anchor=north, edge from parent path={\mypath}]
	    	  } 
                    edge from parent[parent anchor=west, edge from parent path={\mypath}]
		}
              child{
                node[test](LTIorLTV) {\pgfkeys{/foft}} 
                child{
                  node[test](LTV){UAS proof}
                  child{
                    node[ce]{}
                    edge from parent[parent anchor=west,child anchor=north, edge from parent path={\mypath}]
	    	  } 
		  child[missing]{}
                  edge from parent[parent anchor=west,child anchor=north, edge from parent path={\mypath}]
	    	} 
                child{
                  node[ce](LTI){}
                  edge from parent[parent anchor=east,child anchor=north, edge from parent path={\mypath}]
	    	} 
                edge from parent[parent anchor=east,edge from parent path={\mypath}]
              }
	  node[left,fill=none]{yes}
	  }
	  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
          child{
            node[test](DLorNL){\pgfkeys{/fofC}}
              child{
                  node[test](GAS){GAS proof}
                  child{
                    node[ce]{}
                    edge from parent[parent anchor=west,child anchor=north, edge from parent path={\mypath}]
	    	  } 
                  child{
                    node[test]{AS proof per FP}
                    child{
                      node[ce](ASend) {}
                      edge from parent[parent anchor=west,child anchor=north, edge from parent path={\mypath}]
	    	    } 
		    child[missing]{}
                    edge from parent[parent anchor=east,child anchor=north, edge from parent path={\mypath}]
	    	  } 
                    edge from parent[parent anchor=west, edge from parent path={\mypath}]
		}
              child{
                node[ce](LTC) {} 
                edge from parent[parent anchor=east,edge from parent path={\mypath}]
              }
            edge from parent[parent anchor=east,child anchor=north, edge from parent path={\mypath}]
	    node[above,fill=none]{no}
	  }
    };
  %\begin{scope}[every annotation/.style={fill=black!40}]
  %	\node [annotation, above] at (CLorNL.north east) {
  %	{Control Theory}
  %};
  %\end{scope}
  \begin{pgfonlayer}{background}
    %\clip (-1.5,-5) rectangle ++(4,10);
    % The large rectangles:
    % first find the coordinates of the boundaries
    
    \fill [pink] (cst) rectangle (mark);
    \fill [lightblue] let \p1=(mark),\p2=(mark) in
    	(cst) rectangle (-\x1,\y2); 
    % level 2rectangles:
    \fill [red] (CLorNL) rectangle (mark);
    \fill[blue] let \p1=(cst),\p2=(mark) in  
    	(DLorNL) rectangle(\x1,\y2);
    % level 3rectangles:
    \fill[lightpink] let \p1=(cst),\p2=(mark) in  
    	(LTIorLTV) rectangle (\x1,\y2);
    \fill [darkred] (NLTIorNLTV) rectangle (mark);
    \fill [darkblue] let \p1=(DLorNL),\p2=(GAS) in
    	(ASend) rectangle (\x1,\y2); 
    
    \path(CLorNL) node[draw=pink,rectangle,fill=none,above=\ab]{\hfs Control Theory};
    \path(NLTIorNLTV) node[draw=none,rectangle,fill=none,above=\ab]{\hfs nonlinear};
    \path(LTIorLTV) node[draw=none,rectangle,fill=none,above=\ab]{\hfs linear};
    
    \path(GAS) node[draw=none,rectangle,fill=none,above=\ab]{\hfs nonlinear};
    \path(LTC) node[draw=none,rectangle,fill=none,above=\ab]{\hfs linear};
    
    \path(LTV) node[draw=none,rectangle,fill=none,above=\ab]{\hfs LTV};
    \path(LTI) node[draw=none,rectangle,fill=none,above=\ab]{\hfs LTI};
    \path(DLorNL) node[draw=lightblue,rectangle,fill=none,above=\ab, text width=.2\lsdone]{\hfs Dynamic System Theory};
  \end{pgfonlayer}
\end{tikzpicture} 
